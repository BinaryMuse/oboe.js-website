<?xml version="1.0"?>
<svg id="demoTemplateHolder">
    <template id="demo">
        <svg width="500" height="200">
            <g class="scaling">
                <g class="barriers"/>
                <g class="wires"/>
                <g class="messages"/>
                <g class="packets"/>
                <g class="places"/>
                <g class="controls">
                    <g class="lightbox">
                        <rect class="fade" x="0" y="0" width="500" height="200"/>
                        <text class="play" x="250" y="100">Play &#x25B6;</text>
                    </g>
                    <g class="reset">
                        <ellipse cx="0" xy="0" rx="125" ry="60" class="clickableArea"/>
                        <text x="10" y="-10">Reset</text>
                    </g>
                </g>
            </g>
        </svg>
    </template>
    <template id="tower">
        <g class="tower" transform="scale(0.6) translate(0,6)">
            <path class="area" d="M 0,0 C -14.5,36.2 -28.5,71.8 -43,108 l 12,0 c 8.5,-22.2 19.5,-34.2 31,-40.5 11.5,6.3 22.5,18.3 31,40.5 l 12,0 C 28.5,71.8 14.5,36.2 0,0 z"/>
            <path class="structure" d="M 0,0 C -14.5,36.2 -28.5,71.8 -43,108 l 12,0 c 8.5,-22.2 19.5,-34.2 31,-40.5 11.5,6.3 22.5,18.3 31,40.5 l 12,0 C 28.5,71.8 14.5,36.2 0,0 z m 0,9 4.8,12.4 c -1.8,0.1 -3.4,0.2 -4.8,0.3 -1.4,-0.2 -3.1,-0.3 -4.8,-0.3 z M 0,24.8 c 1.4,0.2 2.7,0.5 3.7,0.9 1.8,0.8 3.3,2.5 4.8,5 l 0,0 c -2.5,0.2 -5.4,0.6 -8.5,1.6 -3.1,-1 -6,-1.4 -8.5,-1.6 1.5,-2.5 2.9,-4.2 4.8,-5 1,-0.4 2.2,-0.7 3.7,-0.9 z m -9.6,8.8 c 1.5,0.1 3.2,0.3 5.1,0.7 -3.1,1.7 -6,4 -8.2,7.3 z m 19.1,0 3.1,7.9 c -2.1,-3.3 -5.1,-5.6 -8.2,-7.3 1.9,-0.4 3.6,-0.6 5.1,-0.7 z M 0,35.5 c 0.4,0.1 0.7,0.3 1.1,0.4 3.8,1.6 7.3,4.2 9.6,8.2 C 6.9,44.3 3.3,44.8 0,45.7 c -3.3,-0.9 -6.9,-1.4 -10.7,-1.5 2.2,-4 5.7,-6.6 9.6,-8.2 0.4,-0.2 0.7,-0.3 1.1,-0.4 z m -11.9,11.6 c 2.3,0 4.6,0.2 6.7,0.5 -0.2,0.1 -0.4,0.2 -0.5,0.3 -3.9,2 -7.3,4.9 -9.8,8.7 z m 23.8,0 3.6,9.4 C 13,52.8 9.7,49.9 5.8,47.9 c -0.2,-0.1 -0.4,-0.2 -0.5,-0.3 2.1,-0.3 4.3,-0.5 6.7,-0.5 z M 0,48.9 c 1.5,0.5 3,1 4.4,1.7 4.1,2.1 7.4,5.2 9.7,9.5 -4.5,0.3 -9.2,1.4 -14,3.4 -4.8,-2 -9.5,-3.1 -14.1,-3.4 2.3,-4.3 5.5,-7.4 9.7,-9.5 1.4,-0.7 2.8,-1.2 4.4,-1.7 z m -15.3,14.2 c 0.1,0 0.2,0 0.3,0 0,0 0.1,0 0.1,0 3.5,0.2 7.1,1 10.7,2.5 -6.1,3.3 -12.1,8 -17.7,14.7 z m 30.2,0 c 0.1,0 0.2,0 0.3,0 l 6.5,17 c -5.5,-6.6 -11.5,-11.3 -17.5,-14.5 3.6,-1.4 7.2,-2.2 10.7,-2.4 z"/>
        </g>
    </template>
    <template id="wire-cable">
        <line class="wire cable"/>
    </template>
    <template id="wire-mobile">
        <g class="wire mobile">
            <circle class="aerial upstream" r="10"/>
            <circle class="aerial downstream" r="10"/>
        </g>
    </template>
    <template id="message">
        <line class="messageOuter"/>
        <line class="messageInner"/>
    </template>
    <template id="server">
        <rect class="server" x="-22.5" y="-40" width="45" height="80"/>
    </template>
    <template id="client-singlePageSite">
        <g class="client">
            <g transform="translate(-42.5, -52.5)"> {{!centre the client}}

                <rect class="frame" width="85" height="95" x="0" y="0"/>
                <rect class="viewPort" width="75" height="80" x="5" y="10"/>
                <rect class="part part0" width="65" height="10" x="10" y="15"/>
                <rect class="part part1" width="15" height="25" x="60" y="30"/>
                <rect class="part part2" width="15" height="30" x="60" y="60"/>
                <rect class="part part3" width="10" height="5" x="45" y="45"/>
                <path class="part part3" d="m 40,46 c 0,8.3 -6.7,15 -15,15 -8.3,0 -15,-6.7 -15,-15 0,-8.3 6.7,-15 15,-15 8.3,0 15,6.7 15,15 z"/>
                <rect class="part part4" width="10" height="5" x="45" y="35"/>
                <path class="part part4" d="m 25.2,31 c 8.3,0.1 14.9,6.9 14.8,15.2 -0.1,8.3 -6.9,14.9 -15.2,14.8 -3.9,0 -7.6,-1.6 -10.4,-4.4 L 25,45 z"/>
                <path class="pie-divide" d="m 15,57 11,-10 0,-16"/>
                <rect class="part part5" width="45" height="5" x="10" y="66"/>
                <rect class="part part6" width="45" height="14" x="10" y="76"/>
            </g>
        </g>
    </template>
    <template id="client-twitter">
        <g class="client">
            <g transform="translate(-42.5, -52.5)"> {{!centre the client}}

                <rect class="frame" width="85" height="95" x="0" y="0"/>
                <rect class="viewPort" width="75" height="80" x="5" y="10"/>
                <clipPath id="viewPort-clip">
                    <rect width="75" height="70" x="5" y="15"/>
                </clipPath>
                <g class="tweetsClipper" clip-path="url(#viewPort-clip)">
                    <g class="tweets" transform="translate(10, 15)">
                        <g class="tweetsScroll"/>
                    </g>
                </g>
            </g>
        </g>
    </template>
    <template id="tweet">
        <g class="tweet">
            <rect width="65" height="18"/>
            <circle class="detail" cx="10" cy="9" r="5"/>
            <rect class="detail" x="20" y="5" width="40" height="8"/>
        </g>
    </template>
    <template id="client-map">
        <g>
            <rect width="75" height="80" x="-35" y="-40"/>
            <g>
                <path d="M -5.4800774,-0.10585964 4.7729707,-3.1110634 6.3639609,1.1315772 -3.3587571,5.1974411"/>
                <path d="M -10 -45 C -10.494775 -44.31571 -10.717172 -43.589588 -10.78125 -42.84375 L -39.25 -42.53125 L -36.0625 -27.34375 L -21.375 -38.46875 L -19.28125 -35.09375 L -9.1875 -35.09375 C -7.9979404 -31.935404 -5.6264597 -29.273065 -2.84375 -27.40625 C 0.22051009 -25.908021 6.8107121 -21.123884 10 -20 C 15 -15 11.661463 -17.250072 15 -10 C 17.551429 -8.085481 22.390477 -6.817168 25 -5 C 27.88156 -3.966328 37.705716 -7.08666 40 -5 C 41.619406 -3.9369518 41.164434 -5.5088209 41.90625 -9.34375 C 41.025536 -18.054773 46.535808 -40.748917 40 -45 L -10 -45 z "/>
                <path d="M 10.606601,39.492119 6.7175142,31.183615 11.844038,29.062294 17.677669,41.259886"/>
                <path d="m -24.04163,9.793635 10.606602,-7.7781744 -1.414214,-3.7123105 -11.667262,9.192388"/>
            </g>
            <path d="m 0,-40 c 2.3511139,-1.311079 3.7316497,1.398537 3.8766449,3.303349 0.6396207,1.968241 1.2614677,4.674786 3.6911355,5.021116 2.3921664,0.19239 4.4562666,2.606182 5.8991136,4.910613 2.313887,2.369298 4.740923,2.821235 5.572987,6.02635 0.827893,2.566518 2.902214,4.32275 4.647724,6.247764 2.772136,2.754518 6.863694,3.218807 10.544849,3.755081 2.51737,0.291051 5.054563,0.624436 7.46201,1.4269207 2.247609,-0.7647467 -0.545583,-3.2950687 -2.144878,-2.4647317 -2.734807,-0.165674 -5.441254,-1.187451 -7.486933,-3.025821 -2.325091,-1.573127 -4.936714,-3.167058 -5.895835,-5.977421 -0.895624,-1.971406 -2.0274,-4.345776 -0.807843,-6.432003 0.940764,-1.827714 2.356248,-3.4019 2.979378,-5.389948 1.428476,-2.298368 2.568778,-4.763937 3.60132,-7.200896 0.381523,-2.786807 -3.178993,-3.80912 -4.962568,-2.0563 -2.854521,1.963814 -3.827344,5.468066 -5.517627,8.316108 -0.790349,1.619691 -1.47196,3.329545 -2.649944,4.719116 -2.370559,0.471141 -3.679099,-2.095115 -4.883439,-3.673506 -2.57144,-3.845964 -2.646277,-9.226852 -6.5487478,-12.194087 C 6.7209802,-45.129477 5.6356202,-45.926039 5,-45"/>
            <g>
                <path d="m -13.5,-40.249997 c 0,0 5.0000002,13 13.5,16 8.4999998,3 8.9999998,3.5 10.5,6.25 1.5,2.75 2.25,5.75 3.75,7.25 1.5,1.4999997 9.249999,6.4999996 10.999999,6.4999996 1.75,0 14.75,-1.75 14.75,-1.75"/>
                <path d="m 41.249999,2.2500024 c 0,0 -60.249999,17.9999996 -64.749998,18.2499996 -4.5,0.25 -14.75,0.75 -14.75,0.75"/>
                <path d="m -1.9999999,42.000001 c 0,0 -16.7500001,-17.499999 -19.7499991,-21.249999 -3,-3.75 -15.5,-14.9999997 -15.5,-18.2499996 0,-3.24999993 -0.25,-3.24999993 -0.25,-3.24999993"/>
                <path d="M 19.749999,8.2500022 C 17.25,-0.49999753 19.999999,-2.4999975 9.9999997,-9.7499973 0,-16.999997 -12.5,-23.499997 -15.5,-27.499997 c -3,-4 -6.499999,-15.999999 -6.499999,-15.999999"/>
                <path d="m 3.7499999,-13.499997 c -1.25,3.25 6.2499998,23.999999 6.2499998,23.999999"/>
            </g>
            <g>
                <path d="m 43.249999,-20.999997 c -7.25,-0.5 -7.891243,1.46967 -11.292893,-1.676777 -2.627707,-2.430567 -1.511258,-7.84927 0.103553,-9.055456 4.12132,-3.078427 8.93934,-2.267767 8.93934,-2.267767"/>
                <path d="m -8.6620578,16.511149 c 0,0 -4.5961942,-17.6776688 -7.7781742,-20.6828725 -3.181981,-3.0052038 -9.369165,-12.9046985 -12.197592,-13.9653585 -2.828427,-1.06066 -9.192388,-4.596194 -9.192388,-4.596194"/>
                <path d="M -5.6568541,15.980819 C 2.6516504,28.355188 4.4194173,42.497323 4.4194173,42.497323"/>
                <path d="m -7.0710676,15.980819 c -1.0606602,7.601398 0.53033,9.899495 -1.4142136,13.965359 C -10.429825,34.012042 -20.682873,42.6741 -20.682873,42.6741"/>
                <path d="m -34.825008,42.497323 c 0,0 8.308504,-13.611805 12.197592,-16.086679 3.889087,-2.474874 12.904698,-4.772971 13.6118048,-5.303301 0.7071067,-0.53033 1.7677669,-2.12132 1.7677669,-2.12132"/>
                <path d="M 9.0156112,12.091732 24.04163,42.850876"/>
                <path d="M 19.975766,8.7329749 35.355338,41.790216"/>
                <path d="m 2.6516504,-14.071218 c -8.6620579,1.767767 -16.7937854,3.71231 -18.3847754,4.4194171 -1.590991,0.7071067 -3.181981,2.1213202 -3.181981,2.1213202"/>
                <path d="M -0.53033007,24.642877 24.57196,17.571809 24.218407,18.10214"/>
                <path d="m 1.7677669,32.067498 c 0,0 27.7539401,-7.247844 30.2288141,-7.778174 2.474874,-0.53033 3.712311,-2.121321 3.535534,-3.535534 C 35.355338,19.339576 30.228814,6.4348779 30.228814,6.4348779 L 25.63262,6.7884313"/>
                <path d="M 4.2426406,39.315342 40.481862,30.653285"/>
                <path d="M -31.466251,10.677518 -6.5407376,-6.8233739"/>
                <path d="m -7.7781744,-11.596345 c 1.2374368,4.242641 2.298097,10.0762718 2.8284271,12.55114551 C -4.4194173,3.4296742 0,13.505946 0,13.505946 l 0,0 0,0"/>
                <path d="M -11.490485,7.8490914 C -6.1871842,5.7277712 6.1871842,1.6619073 6.1871842,1.6619073"/>
                <path d="M 29.875261,4.667111 C 28.284271,1.1315772 18.031222,-2.75751 18.031222,-2.75751"/>
                <path d="m -21.38998,-38.643178 -15.026018,11.667261"/>
                <path d="m -21.38998,-11.242791 c 4.065864,-3.358757 8.485282,-3.358757 6.010408,-6.540738 -2.474874,-3.18198 -11.667262,-16.617009 -11.667262,-16.617009"/>
                <path d="m -29.875261,-32.102441 -6.187184,-8.485281"/>
                <path d="m -25.10229,16.687926 c 5.303301,-4.596194 12.727922,-8.1317278 13.965358,-9.0156112 1.2374373,-0.8838835 1.2374373,-0.8838835 1.2374373,-0.8838835"/>
                <path d="M -21.036426,12.975615 -26.69328,7.6723148"/>
                <path d="M -16.086679,10.147188 C -21.566756,0.42447043 -17.500892,5.5509945 -21.92031,0.24769374 -26.339727,-5.055607 -37.123105,-10.535684 -37.123105,-10.535684"/>
                <path d="m -21.213203,-10.182131 c 0,0 -8.838834,5.8336308 -10.076271,6.7175142 -1.237437,0.8838835 -4.419418,3.53553385 -4.419418,3.53553385"/>
                <path d="m -25.279067,28.885518 c -1.237437,-2.298097 -2.298097,-4.419418 -5.303301,-4.065864 -3.005203,0.353553 -6.010407,1.59099 -6.010407,1.59099"/>
                <path d="m 21.743533,27.471304 7.424621,13.435029"/>
                <path d="M 6.1871842,1.6619073 16.617009,-0.98974309"/>
                <path d="m -26.16295,-16.192539 7.778174,-5.480077"/>
                <path d="m -22.804193,-27.506247 -9.899495,7.071068"/>
                <path d="M 9.1923879,-10.005354 15.026019,8.9097516"/>
                <path d="m 12.197592,29.592624 5.480077,12.551145"/>
                <path d="M 6.7175142,30.830061 11.313708,41.613439"/>
                <path d="M -16.970562,26.764197 -30.405591,42.850876"/>
                <path d="M -14.495689,29.769401 -23.864853,42.6741"/>
                <path d="m -27.577164,31.183615 10.076272,7.601397"/>
            </g>
            <path d="M -40 -50 L -40 45 L 45 45 L 45 -50 L -40 -50 z M -35 -40 L 40 -40 L 40 40 L -35 40 L -35 -40 z "/>
            <g>
                <path transform="translate(-22,9.5)" d="m 20,17.5 a 2.5,2.5 0 1 1 -5,0 2.5,2.5 0 1 1 5,0 z"/>
                <path d="m 20,17.5 a 2.5,2.5 0 1 1 -5,0 2.5,2.5 0 1 1 5,0 z" transform="translate(-12,-8.5)"/>
                <path transform="translate(-30.5,-23)" d="m 20,17.5 a 2.5,2.5 0 1 1 -5,0 2.5,2.5 0 1 1 5,0 z"/>
                <path d="m 20,17.5 a 2.5,2.5 0 1 1 -5,0 2.5,2.5 0 1 1 5,0 z" transform="translate(0.5,5)"/>
                <path transform="translate(7.5,-5)" d="m 20,17.5 a 2.5,2.5 0 1 1 -5,0 2.5,2.5 0 1 1 5,0 z"/>
                <path d="m 20,17.5 a 2.5,2.5 0 1 1 -5,0 2.5,2.5 0 1 1 5,0 z" transform="translate(-34,-2.5)"/>
                <path transform="translate(17.5,-43)" d="m 20,17.5 a 2.5,2.5 0 1 1 -5,0 2.5,2.5 0 1 1 5,0 z"/>
                <path d="m 20,17.5 a 2.5,2.5 0 1 1 -5,0 2.5,2.5 0 1 1 5,0 z" transform="translate(-22.5,5)"/>
                <path d="m 20,17.5 a 2.5,2.5 0 1 1 -5,0 2.5,2.5 0 1 1 5,0 z" transform="translate(-27.5,-17)"/>
                <path transform="translate(-16,-21.5)" d="m 20,17.5 a 2.5,2.5 0 1 1 -5,0 2.5,2.5 0 1 1 5,0 z"/>
            </g>
        </g>
    </template>
    <template id="packet">
        <circle class="packet" r="{{packetRadius}}"/>
    </template>
    <template id="firstPacket">
        <g class="packet">
            <circle r="{{packetRadius}}"/>
            <text>{</text>
        </g>
    </template>
    <template id="lastPacket">
        <g class="packet">
            <circle r="{{packetRadius}}"/>
            <text>}</text>
        </g>
    </template>
    <template id="getRequest">
        <g class="packet">
            <circle r="{{packetRadius}}"/>
            <text>GET</text>
        </g>
    </template>
    <template id="airwavePacket">
        <g class="packetClip">
            <circle class="packet airwave" r="0"/>
        </g>
    </template>
    <template id="airwaveDone">
        <circle class="packet flash" r="8.5"/>
    </template>
    <template id="barrier">
        <g class="barrier">
            <path class="shadow" d="m 150,-110 -250,0 20,155 -60,60 330,0 -60,-60 z"/>
            <path class="wall" d="m -105,-124 0,169 25,0 0,-84 c 0,-35.9 47,-65 105,-65 58,0 105,29.1 105,65 l 0,84 25,0 0,-169 z"/>
            <clipPath id="downstream-clip">
                <path d="m 25,-104 c -58,0 -105,29.1 -105,65 l 0,84 -60,60 330,0 -60,-60 0,-84 c 0,-35.8 -47,-65 -105,-65 z"/>
            </clipPath>
            <clipPath id="upstream-clip">
                <path d="m -105,45 60,60 -435,0 0,-320 640,0 0,50 -265,41 z"/>
            </clipPath>
        </g>
    </template>
</svg>
